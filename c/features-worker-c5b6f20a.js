if(!self.define){let n={};const r=(r,t)=>(r=r.startsWith(location.origin)?r:new URL(r+".js",t).href,n[r]||new Promise((n=>{if("document"in self){const t=document.createElement("link");t.rel="preload",t.as="script",t.href=r,t.onload=()=>{const t=document.createElement("script");t.src=r,t.onload=n,document.head.appendChild(t)},document.head.appendChild(t)}else self.nextDefineUri=r,importScripts(r),n()})).then((()=>{let t=n[r];if(!t)throw new Error(`Module ${r} didnâ€™t register its module`);return t})));self.define=(t,e)=>{const o=self.nextDefineUri||("document"in self?document.currentScript.src:"")||location.href;if(n[o])return;let a={};const i=n=>r(n,o),u={module:{uri:o},exports:a,require:i};n[o]=Promise.resolve().then((()=>Promise.all(t.map((n=>u[n]||i(n)))))).then((n=>(e(...n),a)))}}define(["module","require","./supports-wasm-threads-9275c454","./util-af7b556b","./jxl_dec-34bde49a"],(function(n,r,t,e,o){function a(n,r){return console.time(n),r().finally((()=>console.timeEnd(n)))}function i(n){return n({noInitialRun:!0})}function u(n){return new Response(n).arrayBuffer()}let c,f,s;var l,d=(l=n.uri,function(r){var t,e;(r=void 0!==(r=r||{})?r:{}).ready=new Promise((function(n,r){t=n,e=r}));var o,a={};for(o in r)r.hasOwnProperty(o)&&(a[o]=r[o]);var i,u=!0,c="";c=self.location.href,l&&(c=l),c=0!==c.indexOf("blob:")?c.substr(0,c.lastIndexOf("/")+1):"",i=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)};var f,s,d=r.print||console.log.bind(console),p=r.printErr||console.warn.bind(console);for(o in a)a.hasOwnProperty(o)&&(r[o]=a[o]);a=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit,r.wasmBinary&&(f=r.wasmBinary),r.noExitRuntime,"object"!=typeof WebAssembly&&q("no native wasm support detected");var h=!1,v=new TextDecoder("utf8");function y(n,r){if(!n)return"";for(var t=n+r,e=n;!(e>=t)&&w[e];)++e;return v.decode(w.subarray(n,e))}var g,m,w,b,_,T,A,E,C,P=new TextDecoder("utf-16le");function F(n,r){for(var t=n,e=t>>1,o=e+r/2;!(e>=o)&&_[e];)++e;return t=e<<1,P.decode(w.subarray(n,t))}function W(n,r,t){if(void 0===t&&(t=2147483647),t<2)return 0;for(var e=r,o=(t-=2)<2*n.length?t/2:n.length,a=0;a<o;++a){var i=n.charCodeAt(a);b[r>>1]=i,r+=2}return b[r>>1]=0,r-e}function R(n){return 2*n.length}function k(n,r){for(var t=0,e="";!(t>=r/4);){var o=T[n+4*t>>2];if(0==o)break;if(++t,o>=65536){var a=o-65536;e+=String.fromCharCode(55296|a>>10,56320|1023&a)}else e+=String.fromCharCode(o)}return e}function U(n,r,t){if(void 0===t&&(t=2147483647),t<4)return 0;for(var e=r,o=e+t-4,a=0;a<n.length;++a){var i=n.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&n.charCodeAt(++a)),T[r>>2]=i,(r+=4)+4>o)break}return T[r>>2]=0,r-e}function S(n){for(var r=0,t=0;t<n.length;++t){var e=n.charCodeAt(t);e>=55296&&e<=57343&&++t,r+=4}return r}function I(n){g=n,r.HEAP8=m=new Int8Array(n),r.HEAP16=b=new Int16Array(n),r.HEAP32=T=new Int32Array(n),r.HEAPU8=w=new Uint8Array(n),r.HEAPU16=_=new Uint16Array(n),r.HEAPU32=A=new Uint32Array(n),r.HEAPF32=E=new Float32Array(n),r.HEAPF64=C=new Float64Array(n)}r.INITIAL_MEMORY;var O,x=[],j=[],D=[],M=0,H=null;function q(n){r.onAbort&&r.onAbort(n),p(n+=""),h=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(n);throw e(t),t}r.preloadedImages={},r.preloadedAudios={};var B,z="data:application/octet-stream;base64,";function N(n){return n.startsWith(z)}if(r.locateFile)N(V="wp2_dec.wasm")||(B=V,V=r.locateFile?r.locateFile(B,c):c+B);else var V=new URL("/c/wp2_dec-2a7f854b.wasm",n.uri).toString();function L(n){try{if(n==V&&f)return new Uint8Array(f);if(i)return i(n);throw"both async and sync fetching of the wasm failed"}catch(n){q(n)}}function G(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var e=t.func;"number"==typeof e?void 0===t.arg?O.get(e)():O.get(e)(t.arg):e(void 0===t.arg?null:t.arg)}else t(r)}}var Z={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function Y(n){this.excPtr=n,this.ptr=n-Z.SIZE,this.set_type=function(n){T[this.ptr+Z.TYPE_OFFSET>>2]=n},this.get_type=function(){return T[this.ptr+Z.TYPE_OFFSET>>2]},this.set_destructor=function(n){T[this.ptr+Z.DESTRUCTOR_OFFSET>>2]=n},this.get_destructor=function(){return T[this.ptr+Z.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(n){T[this.ptr+Z.REFCOUNT_OFFSET>>2]=n},this.set_caught=function(n){n=n?1:0,m[this.ptr+Z.CAUGHT_OFFSET>>0]=n},this.get_caught=function(){return 0!=m[this.ptr+Z.CAUGHT_OFFSET>>0]},this.set_rethrown=function(n){n=n?1:0,m[this.ptr+Z.RETHROWN_OFFSET>>0]=n},this.get_rethrown=function(){return 0!=m[this.ptr+Z.RETHROWN_OFFSET>>0]},this.init=function(n,r){this.set_type(n),this.set_destructor(r),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var n=T[this.ptr+Z.REFCOUNT_OFFSET>>2];T[this.ptr+Z.REFCOUNT_OFFSET>>2]=n+1},this.release_ref=function(){var n=T[this.ptr+Z.REFCOUNT_OFFSET>>2];return T[this.ptr+Z.REFCOUNT_OFFSET>>2]=n-1,1===n}}function J(n){switch(n){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+n)}}var X=void 0;function $(n){for(var r="",t=n;w[t];)r+=X[w[t++]];return r}var K={},Q={},nn={},rn=48,tn=57;function en(n){if(void 0===n)return"_unknown";var r=(n=n.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return r>=rn&&r<=tn?"_"+n:n}function on(n,r){return n=en(n),new Function("body","return function "+n+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(r)}function an(n,r){var t=on(r,(function(n){this.name=r,this.message=n;var t=new Error(n).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},t}var un=void 0;function cn(n){throw new un(n)}var fn=void 0;function sn(n){throw new fn(n)}function ln(n,r,t){if(t=t||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var e=r.name;if(n||cn('type "'+e+'" must have a positive integer typeid pointer'),Q.hasOwnProperty(n)){if(t.ignoreDuplicateRegistrations)return;cn("Cannot register type '"+e+"' twice")}if(Q[n]=r,delete nn[n],K.hasOwnProperty(n)){var o=K[n];delete K[n],o.forEach((function(n){n()}))}}var dn=[],pn=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function hn(n){n>4&&0==--pn[n].refcount&&(pn[n]=void 0,dn.push(n))}function vn(){for(var n=0,r=5;r<pn.length;++r)void 0!==pn[r]&&++n;return n}function yn(){for(var n=5;n<pn.length;++n)if(void 0!==pn[n])return pn[n];return null}function gn(n){switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var r=dn.length?dn.pop():pn.length;return pn[r]={refcount:1,value:n},r}}function mn(n){return this.fromWireType(A[n>>2])}function wn(n){if(null===n)return"null";var r=typeof n;return"object"===r||"array"===r||"function"===r?n.toString():""+n}function bn(n,r){switch(r){case 2:return function(n){return this.fromWireType(E[n>>2])};case 3:return function(n){return this.fromWireType(C[n>>3])};default:throw new TypeError("Unknown float type: "+n)}}function _n(n){for(;n.length;){var r=n.pop();n.pop()(r)}}function Tn(n,r,t,e,o){var a=r.length;a<2&&cn("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var i=null!==r[1]&&null!==t,u=!1,c=1;c<r.length;++c)if(null!==r[c]&&void 0===r[c].destructorFunction){u=!0;break}var f="void"!==r[0].name,s="",l="";for(c=0;c<a-2;++c)s+=(0!==c?", ":"")+"arg"+c,l+=(0!==c?", ":"")+"arg"+c+"Wired";var d="return function "+en(n)+"("+s+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+n+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n";u&&(d+="var destructors = [];\n");var p=u?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],v=[cn,e,o,_n,r[0],r[1]];for(i&&(d+="var thisWired = classParam.toWireType("+p+", this);\n"),c=0;c<a-2;++c)d+="var arg"+c+"Wired = argType"+c+".toWireType("+p+", arg"+c+"); // "+r[c+2].name+"\n",h.push("argType"+c),v.push(r[c+2]);if(i&&(l="thisWired"+(l.length>0?", ":"")+l),d+=(f?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",u)d+="runDestructors(destructors);\n";else for(c=i?1:2;c<r.length;++c){var y=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==r[c].destructorFunction&&(d+=y+"_dtor("+y+"); // "+r[c].name+"\n",h.push(y+"_dtor"),v.push(r[c].destructorFunction))}return f&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",h.push(d),function(n,r){if(!(n instanceof Function))throw new TypeError("new_ called with constructor type "+typeof n+" which is not a function");var t=on(n.name||"unknownFunctionName",(function(){}));t.prototype=n.prototype;var e=new t,o=n.apply(e,r);return o instanceof Object?o:e}(Function,h).apply(null,v)}function An(n,t,e){r.hasOwnProperty(n)?((void 0===e||void 0!==r[n].overloadTable&&void 0!==r[n].overloadTable[e])&&cn("Cannot register public name '"+n+"' twice"),function(n,r,t){if(void 0===n[r].overloadTable){var e=n[r];n[r]=function(){return n[r].overloadTable.hasOwnProperty(arguments.length)||cn("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+n[r].overloadTable+")!"),n[r].overloadTable[arguments.length].apply(this,arguments)},n[r].overloadTable=[],n[r].overloadTable[e.argCount]=e}}(r,n,n),r.hasOwnProperty(e)&&cn("Cannot register multiple overloads of a function with the same number of arguments ("+e+")!"),r[n].overloadTable[e]=t):(r[n]=t,void 0!==e&&(r[n].numArguments=e))}function En(n,t,e){return n.includes("j")?function(n,t,e){var o=r["dynCall_"+n];return e&&e.length?o.apply(null,[t].concat(e)):o.call(null,t)}(n,t,e):O.get(t).apply(null,e)}function Cn(n,r){var t,e,o,a=(n=$(n)).includes("j")?(t=n,e=r,o=[],function(){o.length=arguments.length;for(var n=0;n<arguments.length;n++)o[n]=arguments[n];return En(t,e,o)}):O.get(r);return"function"!=typeof a&&cn("unknown function pointer with signature "+n+": "+r),a}var Pn=void 0;function Fn(n){var r=Hn(n),t=$(r);return Dn(r),t}function Wn(n,r,t){switch(r){case 0:return t?function(n){return m[n]}:function(n){return w[n]};case 1:return t?function(n){return b[n>>1]}:function(n){return _[n>>1]};case 2:return t?function(n){return T[n>>2]}:function(n){return A[n>>2]};default:throw new TypeError("Unknown integer type: "+n)}}var Rn={};function kn(){return"object"==typeof globalThis?globalThis:Function("return this")()}function Un(n,r){var t=Q[n];return void 0===t&&cn(r+" has unknown type "+Fn(n)),t}var Sn={};function In(n){try{return s.grow(n-g.byteLength+65535>>>16),I(s.buffer),1}catch(n){}}var On={mappings:{},buffers:[null,[],[]],printChar:function(n,r){var t=On.buffers[n];0===r||10===r?((1===n?d:p)(function(n,r,t){for(var e=r+t,o=r;n[o]&&!(o>=e);)++o;return v.decode(n.subarray?n.subarray(r,o):new Uint8Array(n.slice(r,o)))}(t,0)),t.length=0):t.push(r)},varargs:void 0,get:function(){return On.varargs+=4,T[On.varargs-4>>2]},getStr:function(n){return y(n)},get64:function(n,r){return n}};!function(){for(var n=new Array(256),r=0;r<256;++r)n[r]=String.fromCharCode(r);X=n}(),un=r.BindingError=an(Error,"BindingError"),fn=r.InternalError=an(Error,"InternalError"),r.count_emval_handles=vn,r.get_first_emval=yn,Pn=r.UnboundTypeError=an(Error,"UnboundTypeError");var xn,jn={j:function(n){return Mn(n+Z.SIZE)+Z.SIZE},h:function(n,r){},i:function(n,r,t){throw new Y(n).init(r,t),n},q:function(n,r,t,e,o){},x:function(n,r,t,e,o){var a=J(t);ln(n,{name:r=$(r),fromWireType:function(n){return!!n},toWireType:function(n,r){return r?e:o},argPackAdvance:8,readValueFromPointer:function(n){var e;if(1===t)e=m;else if(2===t)e=b;else{if(4!==t)throw new TypeError("Unknown boolean type size: "+r);e=T}return this.fromWireType(e[n>>a])},destructorFunction:null})},w:function(n,r){ln(n,{name:r=$(r),fromWireType:function(n){var r=pn[n].value;return hn(n),r},toWireType:function(n,r){return gn(r)},argPackAdvance:8,readValueFromPointer:mn,destructorFunction:null})},f:function(n,r,t){var e=J(t);ln(n,{name:r=$(r),fromWireType:function(n){return n},toWireType:function(n,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+wn(r)+'" to '+this.name);return r},argPackAdvance:8,readValueFromPointer:bn(r,e),destructorFunction:null})},n:function(n,t,e,o,a,i){var u=function(n,r){for(var t=[],e=0;e<n;e++)t.push(T[(r>>2)+e]);return t}(t,e);n=$(n),a=Cn(o,a),An(n,(function(){!function(n,r){var t=[],e={};throw r.forEach((function n(r){e[r]||Q[r]||(nn[r]?nn[r].forEach(n):(t.push(r),e[r]=!0))})),new Pn(n+": "+t.map(Fn).join([", "]))}("Cannot call "+n+" due to unbound types",u)}),t-1),function(n,r,t){function e(r){var e=t(r);e.length!==n.length&&sn("Mismatched type converter count");for(var o=0;o<n.length;++o)ln(n[o],e[o])}n.forEach((function(n){nn[n]=r}));var o=new Array(r.length),a=[],i=0;r.forEach((function(n,r){Q.hasOwnProperty(n)?o[r]=Q[n]:(a.push(n),K.hasOwnProperty(n)||(K[n]=[]),K[n].push((function(){o[r]=Q[n],++i===a.length&&e(o)})))})),0===a.length&&e(o)}([],u,(function(e){var o=[e[0],null].concat(e.slice(1));return function(n,t,e){r.hasOwnProperty(n)||sn("Replacing nonexistant public symbol"),void 0!==r[n].overloadTable&&void 0!==e?r[n].overloadTable[e]=t:(r[n]=t,r[n].argCount=e)}(n,Tn(n,o,null,a,i),t-1),[]}))},b:function(n,r,t,e,o){r=$(r),-1===o&&(o=4294967295);var a=J(t),i=function(n){return n};if(0===e){var u=32-8*t;i=function(n){return n<<u>>>u}}var c=r.includes("unsigned");ln(n,{name:r,fromWireType:i,toWireType:function(n,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+wn(t)+'" to '+this.name);if(t<e||t>o)throw new TypeError('Passing a number "'+wn(t)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+e+", "+o+"]!");return c?t>>>0:0|t},argPackAdvance:8,readValueFromPointer:Wn(r,a,0!==e),destructorFunction:null})},a:function(n,r,t){var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][r];function o(n){var r=A,t=r[n>>=2],o=r[n+1];return new e(g,o,t)}ln(n,{name:t=$(t),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},g:function(n,r){var t="std::string"===(r=$(r));ln(n,{name:r,fromWireType:function(n){var r,e=A[n>>2];if(t)for(var o=n+4,a=0;a<=e;++a){var i=n+4+a;if(a==e||0==w[i]){var u=y(o,i-o);void 0===r?r=u:(r+=String.fromCharCode(0),r+=u),o=i+1}}else{var c=new Array(e);for(a=0;a<e;++a)c[a]=String.fromCharCode(w[n+4+a]);r=c.join("")}return Dn(n),r},toWireType:function(n,r){var e;r instanceof ArrayBuffer&&(r=new Uint8Array(r));var o="string"==typeof r;o||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||cn("Cannot pass non-string to std::string"),e=t&&o?function(){return function(n){for(var r=0,t=0;t<n.length;++t){var e=n.charCodeAt(t);e>=55296&&e<=57343&&(e=65536+((1023&e)<<10)|1023&n.charCodeAt(++t)),e<=127?++r:r+=e<=2047?2:e<=65535?3:4}return r}(r)}:function(){return r.length};var a=e(),i=Mn(4+a+1);if(A[i>>2]=a,t&&o)!function(n,r,t,e){if(!(e>0))return 0;for(var o=t+e-1,a=0;a<n.length;++a){var i=n.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&n.charCodeAt(++a)),i<=127){if(t>=o)break;r[t++]=i}else if(i<=2047){if(t+1>=o)break;r[t++]=192|i>>6,r[t++]=128|63&i}else if(i<=65535){if(t+2>=o)break;r[t++]=224|i>>12,r[t++]=128|i>>6&63,r[t++]=128|63&i}else{if(t+3>=o)break;r[t++]=240|i>>18,r[t++]=128|i>>12&63,r[t++]=128|i>>6&63,r[t++]=128|63&i}}r[t]=0}(r,w,i+4,a+1);else if(o)for(var u=0;u<a;++u){var c=r.charCodeAt(u);c>255&&(Dn(i),cn("String has UTF-16 code units that do not fit in 8 bits")),w[i+4+u]=c}else for(u=0;u<a;++u)w[i+4+u]=r[u];return null!==n&&n.push(Dn,i),i},argPackAdvance:8,readValueFromPointer:mn,destructorFunction:function(n){Dn(n)}})},d:function(n,r,t){var e,o,a,i,u;t=$(t),2===r?(e=F,o=W,i=R,a=function(){return _},u=1):4===r&&(e=k,o=U,i=S,a=function(){return A},u=2),ln(n,{name:t,fromWireType:function(n){for(var t,o=A[n>>2],i=a(),c=n+4,f=0;f<=o;++f){var s=n+4+f*r;if(f==o||0==i[s>>u]){var l=e(c,s-c);void 0===t?t=l:(t+=String.fromCharCode(0),t+=l),c=s+r}}return Dn(n),t},toWireType:function(n,e){"string"!=typeof e&&cn("Cannot pass non-string to C++ string type "+t);var a=i(e),c=Mn(4+a+r);return A[c>>2]=a>>u,o(e,c+4,a+r),null!==n&&n.push(Dn,c),c},argPackAdvance:8,readValueFromPointer:mn,destructorFunction:function(n){Dn(n)}})},y:function(n,r){ln(n,{isVoid:!0,name:r=$(r),argPackAdvance:0,fromWireType:function(){},toWireType:function(n,r){}})},t:hn,z:function(n){return 0===n?gn(kn()):(n=void 0===(t=Rn[r=n])?$(r):t,gn(kn()[n]));var r,t},m:function(n){n>4&&(pn[n].refcount+=1)},o:function(n,t,e,o){n=function(n){return n||cn("Cannot use deleted val. handle = "+n),pn[n].value}(n);var a=Sn[t];return a||(a=function(n){for(var t="",e=0;e<n;++e)t+=(0!==e?", ":"")+"arg"+e;var o="return function emval_allocator_"+n+"(constructor, argTypes, args) {\n";for(e=0;e<n;++e)o+="var argType"+e+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+e+'], "parameter '+e+'");\nvar arg'+e+" = argType"+e+".readValueFromPointer(args);\nargs += argType"+e+"['argPackAdvance'];\n";return o+="var obj = new constructor("+t+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",o)(Un,r,gn)}(t),Sn[t]=a),a(n,e,o)},e:function(){q()},s:function(n,r,t){w.copyWithin(n,r,r+t)},c:function(n){var r,t,e=w.length,o=2147483648;if((n>>>=0)>o)return!1;for(var a=1;a<=4;a*=2){var i=e*(1+.2/a);if(i=Math.min(i,n+100663296),In(Math.min(o,((r=Math.max(n,i))%(t=65536)>0&&(r+=t-r%t),r))))return!0}return!1},v:function(n){return 0},p:function(n,r,t,e,o){},u:function(n,r,t,e){for(var o=0,a=0;a<t;a++){for(var i=T[r+8*a>>2],u=T[r+(8*a+4)>>2],c=0;c<u;c++)On.printChar(n,w[i+c]);o+=u}return T[e>>2]=o,0},l:function(){return 6},k:function(){return 28},r:function(n){}},Dn=(function(){var n={a:jn};function t(n,t){var e,o=n.exports;r.asm=o,I((s=r.asm.A).buffer),O=r.asm.C,e=r.asm.B,j.unshift(e),function(n){if(M--,r.monitorRunDependencies&&r.monitorRunDependencies(M),0==M&&H){var t=H;H=null,t()}}()}function o(n){t(n.instance)}function a(r){return(!f&&u&&"function"==typeof fetch?fetch(V,{credentials:"same-origin"}).then((function(n){if(!n.ok)throw"failed to load wasm binary file at '"+V+"'";return n.arrayBuffer()})).catch((function(){return L(V)})):Promise.resolve().then((function(){return L(V)}))).then((function(r){return WebAssembly.instantiate(r,n)})).then(r,(function(n){p("failed to asynchronously prepare wasm: "+n),q(n)}))}if(M++,r.monitorRunDependencies&&r.monitorRunDependencies(M),r.instantiateWasm)try{return r.instantiateWasm(n,t)}catch(n){return p("Module.instantiateWasm callback failed with error: "+n),!1}(f||"function"!=typeof WebAssembly.instantiateStreaming||N(V)||"function"!=typeof fetch?a(o):fetch(V,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,n).then(o,(function(n){return p("wasm streaming compile failed: "+n),p("falling back to ArrayBuffer instantiation"),a(o)}))}))).catch(e)}(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.B).apply(null,arguments)},r._free=function(){return(Dn=r._free=r.asm.D).apply(null,arguments)}),Mn=r._malloc=function(){return(Mn=r._malloc=r.asm.E).apply(null,arguments)},Hn=r.___getTypeName=function(){return(Hn=r.___getTypeName=r.asm.F).apply(null,arguments)};function qn(n){function e(){xn||(xn=!0,r.calledRun=!0,h||(G(j),t(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)n=r.postRun.shift(),D.unshift(n);var n;G(D)}()))}M>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)n=r.preRun.shift(),x.unshift(n);var n;G(x)}(),M>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),e()}),1)):e()))}if(r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.G).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.H).apply(null,arguments)},H=function n(){xn||qn(),xn||(H=n)},r.run=qn,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return qn(),r.ready});let p,h,v;async function y(n,e){h||(h=async function(){if(await t.checkThreadsSupport())return i((await r("./avif_enc_mt-adda7684")).default);return i((await r("./avif_enc-25a96a33")).default)}());const o=(await h).encode(n.data,n.width,n.height,e);if(!o)throw new Error("Encoding error");return o.buffer}async function g(n,e){v||(v=async function(){if(await t.checkThreadsSupport())return await t.simd()?i((await r("./jxl_enc_mt_simd-cecf234f")).default):i((await r("./jxl_enc_mt-09efa016")).default);return i((await r("./jxl_enc-f257d3f3")).default)}());const o=(await v).encode(n.data,n.width,n.height,e);if(!o)throw new Error("Encoding error.");return o.buffer}var m=function(){var r=n.uri;return function(t){var e,o;(t=void 0!==(t=t||{})?t:{}).ready=new Promise((function(n,r){e=n,o=r}));var a,i={};for(a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);var u,c="./this.program",f=function(n,r){throw r},s=!0,l="";l=self.location.href,r&&(l=r),l=0!==l.indexOf("blob:")?l.substr(0,l.lastIndexOf("/")+1):"",u=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)};var d,p=t.print||console.log.bind(console),h=t.printErr||console.warn.bind(console);for(a in i)i.hasOwnProperty(a)&&(t[a]=i[a]);i=null,t.arguments&&t.arguments,t.thisProgram&&(c=t.thisProgram),t.quit&&(f=t.quit),t.wasmBinary&&(d=t.wasmBinary);var v,y=t.noExitRuntime||!0;"object"!=typeof WebAssembly&&N("no native wasm support detected");var g=!1,m=new TextDecoder("utf8");function w(n,r){if(!n)return"";for(var t=n+r,e=n;!(e>=t)&&T[e];)++e;return m.decode(T.subarray(n,e))}var b,_,T,A,E,C,P,F,W,R=new TextDecoder("utf-16le");function k(n,r){for(var t=n,e=t>>1,o=e+r/2;!(e>=o)&&E[e];)++e;return t=e<<1,R.decode(T.subarray(n,t))}function U(n,r,t){if(void 0===t&&(t=2147483647),t<2)return 0;for(var e=r,o=(t-=2)<2*n.length?t/2:n.length,a=0;a<o;++a){var i=n.charCodeAt(a);A[r>>1]=i,r+=2}return A[r>>1]=0,r-e}function S(n){return 2*n.length}function I(n,r){for(var t=0,e="";!(t>=r/4);){var o=C[n+4*t>>2];if(0==o)break;if(++t,o>=65536){var a=o-65536;e+=String.fromCharCode(55296|a>>10,56320|1023&a)}else e+=String.fromCharCode(o)}return e}function O(n,r,t){if(void 0===t&&(t=2147483647),t<4)return 0;for(var e=r,o=e+t-4,a=0;a<n.length;++a){var i=n.charCodeAt(a);if(i>=55296&&i<=57343)i=65536+((1023&i)<<10)|1023&n.charCodeAt(++a);if(C[r>>2]=i,(r+=4)+4>o)break}return C[r>>2]=0,r-e}function x(n){for(var r=0,t=0;t<n.length;++t){var e=n.charCodeAt(t);e>=55296&&e<=57343&&++t,r+=4}return r}function j(n){b=n,t.HEAP8=_=new Int8Array(n),t.HEAP16=A=new Int16Array(n),t.HEAP32=C=new Int32Array(n),t.HEAPU8=T=new Uint8Array(n),t.HEAPU16=E=new Uint16Array(n),t.HEAPU32=P=new Uint32Array(n),t.HEAPF32=F=new Float32Array(n),t.HEAPF64=W=new Float64Array(n)}t.INITIAL_MEMORY;var D,M=[],H=[],q=[];var B=0,z=null;function N(n){t.onAbort&&t.onAbort(n),h(n+=""),g=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(n);throw o(r),r}t.preloadedImages={},t.preloadedAudios={};var V,L="data:application/octet-stream;base64,";function G(n){return n.startsWith(L)}if(t.locateFile)G(Z="mozjpeg_enc.wasm")||(V=Z,Z=t.locateFile?t.locateFile(V,l):l+V);else var Z=new URL("/c/mozjpeg_enc-f6bf569c.wasm",n.uri).toString();function Y(n){try{if(n==Z&&d)return new Uint8Array(d);if(u)return u(n);throw"both async and sync fetching of the wasm failed"}catch(n){N(n)}}function J(n){for(;n.length>0;){var r=n.shift();if("function"!=typeof r){var e=r.func;"number"==typeof e?void 0===r.arg?D.get(e)():D.get(e)(r.arg):e(void 0===r.arg?null:r.arg)}else r(t)}}var X=0;function $(){return y||X>0}var K={};function Q(n){for(;n.length;){var r=n.pop();n.pop()(r)}}function nn(n){return this.fromWireType(P[n>>2])}var rn={},tn={},en={},on=48,an=57;function un(n){if(void 0===n)return"_unknown";var r=(n=n.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return r>=on&&r<=an?"_"+n:n}function cn(n,r){return n=un(n),new Function("body","return function "+n+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(r)}function fn(n,r){var t=cn(r,(function(n){this.name=r,this.message=n;var t=new Error(n).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},t}var sn=void 0;function ln(n){throw new sn(n)}function dn(n,r,t){function e(r){var e=t(r);e.length!==n.length&&ln("Mismatched type converter count");for(var o=0;o<n.length;++o)mn(n[o],e[o])}n.forEach((function(n){en[n]=r}));var o=new Array(r.length),a=[],i=0;r.forEach((function(n,r){tn.hasOwnProperty(n)?o[r]=tn[n]:(a.push(n),rn.hasOwnProperty(n)||(rn[n]=[]),rn[n].push((function(){o[r]=tn[n],++i===a.length&&e(o)})))})),0===a.length&&e(o)}function pn(n){switch(n){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+n)}}var hn=void 0;function vn(n){for(var r="",t=n;T[t];)r+=hn[T[t++]];return r}var yn=void 0;function gn(n){throw new yn(n)}function mn(n,r,t){if(t=t||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var e=r.name;if(n||gn('type "'+e+'" must have a positive integer typeid pointer'),tn.hasOwnProperty(n)){if(t.ignoreDuplicateRegistrations)return;gn("Cannot register type '"+e+"' twice")}if(tn[n]=r,delete en[n],rn.hasOwnProperty(n)){var o=rn[n];delete rn[n],o.forEach((function(n){n()}))}}var wn=[],bn=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function _n(n){n>4&&0==--bn[n].refcount&&(bn[n]=void 0,wn.push(n))}function Tn(){for(var n=0,r=5;r<bn.length;++r)void 0!==bn[r]&&++n;return n}function An(){for(var n=5;n<bn.length;++n)if(void 0!==bn[n])return bn[n];return null}function En(n){switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var r=wn.length?wn.pop():bn.length;return bn[r]={refcount:1,value:n},r}}function Cn(n){if(null===n)return"null";var r=typeof n;return"object"===r||"array"===r||"function"===r?n.toString():""+n}function Pn(n,r){switch(r){case 2:return function(n){return this.fromWireType(F[n>>2])};case 3:return function(n){return this.fromWireType(W[n>>3])};default:throw new TypeError("Unknown float type: "+n)}}function Fn(n,r,t,e,o){var a=r.length;a<2&&gn("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var i=null!==r[1]&&null!==t,u=!1,c=1;c<r.length;++c)if(null!==r[c]&&void 0===r[c].destructorFunction){u=!0;break}var f="void"!==r[0].name,s="",l="";for(c=0;c<a-2;++c)s+=(0!==c?", ":"")+"arg"+c,l+=(0!==c?", ":"")+"arg"+c+"Wired";var d="return function "+un(n)+"("+s+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+n+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n";u&&(d+="var destructors = [];\n");var p=u?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],v=[gn,e,o,Q,r[0],r[1]];i&&(d+="var thisWired = classParam.toWireType("+p+", this);\n");for(c=0;c<a-2;++c)d+="var arg"+c+"Wired = argType"+c+".toWireType("+p+", arg"+c+"); // "+r[c+2].name+"\n",h.push("argType"+c),v.push(r[c+2]);if(i&&(l="thisWired"+(l.length>0?", ":"")+l),d+=(f?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",u)d+="runDestructors(destructors);\n";else for(c=i?1:2;c<r.length;++c){var y=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==r[c].destructorFunction&&(d+=y+"_dtor("+y+"); // "+r[c].name+"\n",h.push(y+"_dtor"),v.push(r[c].destructorFunction))}return f&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",h.push(d),function(n,r){if(!(n instanceof Function))throw new TypeError("new_ called with constructor type "+typeof n+" which is not a function");var t=cn(n.name||"unknownFunctionName",(function(){}));t.prototype=n.prototype;var e=new t,o=n.apply(e,r);return o instanceof Object?o:e}(Function,h).apply(null,v)}function Wn(n,r,e){t.hasOwnProperty(n)?((void 0===e||void 0!==t[n].overloadTable&&void 0!==t[n].overloadTable[e])&&gn("Cannot register public name '"+n+"' twice"),function(n,r,t){if(void 0===n[r].overloadTable){var e=n[r];n[r]=function(){return n[r].overloadTable.hasOwnProperty(arguments.length)||gn("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+n[r].overloadTable+")!"),n[r].overloadTable[arguments.length].apply(this,arguments)},n[r].overloadTable=[],n[r].overloadTable[e.argCount]=e}}(t,n,n),t.hasOwnProperty(e)&&gn("Cannot register multiple overloads of a function with the same number of arguments ("+e+")!"),t[n].overloadTable[e]=r):(t[n]=r,void 0!==e&&(t[n].numArguments=e))}function Rn(n,r,e){return n.includes("j")?function(n,r,e){var o=t["dynCall_"+n];return e&&e.length?o.apply(null,[r].concat(e)):o.call(null,r)}(n,r,e):D.get(r).apply(null,e)}function kn(n,r){var t,e,o,a=(n=vn(n)).includes("j")?(t=n,e=r,o=[],function(){o.length=arguments.length;for(var n=0;n<arguments.length;n++)o[n]=arguments[n];return Rn(t,e,o)}):D.get(r);return"function"!=typeof a&&gn("unknown function pointer with signature "+n+": "+r),a}var Un=void 0;function Sn(n){var r=Gn(n),t=vn(r);return Ln(r),t}function In(n,r,t){switch(r){case 0:return t?function(n){return _[n]}:function(n){return T[n]};case 1:return t?function(n){return A[n>>1]}:function(n){return E[n>>1]};case 2:return t?function(n){return C[n>>2]}:function(n){return P[n>>2]};default:throw new TypeError("Unknown integer type: "+n)}}var On={};function xn(){return"object"==typeof globalThis?globalThis:Function("return this")()}function jn(n,r){var t=tn[n];return void 0===t&&gn(r+" has unknown type "+Sn(n)),t}var Dn={};function Mn(n){try{return v.grow(n-b.byteLength+65535>>>16),j(v.buffer),1}catch(n){}}var Hn={};function qn(){if(!qn.strings){var n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(var r in Hn)n[r]=Hn[r];var t=[];for(var r in n)t.push(r+"="+n[r]);qn.strings=t}return qn.strings}var Bn={mappings:{},buffers:[null,[],[]],printChar:function(n,r){var t=Bn.buffers[n];0===r||10===r?((1===n?p:h)(function(n,r,t){for(var e=r+t,o=r;n[o]&&!(o>=e);)++o;return m.decode(n.subarray?n.subarray(r,o):new Uint8Array(n.slice(r,o)))}(t,0)),t.length=0):t.push(r)},varargs:void 0,get:function(){return Bn.varargs+=4,C[Bn.varargs-4>>2]},getStr:function(n){return w(n)},get64:function(n,r){return n}};sn=t.InternalError=fn(Error,"InternalError"),function(){for(var n=new Array(256),r=0;r<256;++r)n[r]=String.fromCharCode(r);hn=n}(),yn=t.BindingError=fn(Error,"BindingError"),t.count_emval_handles=Tn,t.get_first_emval=An,Un=t.UnboundTypeError=fn(Error,"UnboundTypeError");var zn,Nn={B:function(n,r){},l:function(n){var r=K[n];delete K[n];var t=r.rawConstructor,e=r.rawDestructor,o=r.fields;dn([n],o.map((function(n){return n.getterReturnType})).concat(o.map((function(n){return n.setterArgumentType}))),(function(n){var a={};return o.forEach((function(r,t){var e=r.fieldName,i=n[t],u=r.getter,c=r.getterContext,f=n[t+o.length],s=r.setter,l=r.setterContext;a[e]={read:function(n){return i.fromWireType(u(c,n))},write:function(n,r){var t=[];s(l,n,f.toWireType(t,r)),Q(t)}}})),[{name:r.name,fromWireType:function(n){var r={};for(var t in a)r[t]=a[t].read(n);return e(n),r},toWireType:function(n,r){for(var o in a)if(!(o in r))throw new TypeError('Missing field:  "'+o+'"');var i=t();for(o in a)a[o].write(i,r[o]);return null!==n&&n.push(e,i),i},argPackAdvance:8,readValueFromPointer:nn,destructorFunction:e}]}))},p:function(n,r,t,e,o){},y:function(n,r,t,e,o){var a=pn(t);mn(n,{name:r=vn(r),fromWireType:function(n){return!!n},toWireType:function(n,r){return r?e:o},argPackAdvance:8,readValueFromPointer:function(n){var e;if(1===t)e=_;else if(2===t)e=A;else{if(4!==t)throw new TypeError("Unknown boolean type size: "+r);e=C}return this.fromWireType(e[n>>a])},destructorFunction:null})},x:function(n,r){mn(n,{name:r=vn(r),fromWireType:function(n){var r=bn[n].value;return _n(n),r},toWireType:function(n,r){return En(r)},argPackAdvance:8,readValueFromPointer:nn,destructorFunction:null})},i:function(n,r,t){var e=pn(t);mn(n,{name:r=vn(r),fromWireType:function(n){return n},toWireType:function(n,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+Cn(r)+'" to '+this.name);return r},argPackAdvance:8,readValueFromPointer:Pn(r,e),destructorFunction:null})},f:function(n,r,e,o,a,i){var u=function(n,r){for(var t=[],e=0;e<n;e++)t.push(C[(r>>2)+e]);return t}(r,e);n=vn(n),a=kn(o,a),Wn(n,(function(){!function(n,r){var t=[],e={};throw r.forEach((function n(r){e[r]||tn[r]||(en[r]?en[r].forEach(n):(t.push(r),e[r]=!0))})),new Un(n+": "+t.map(Sn).join([", "]))}("Cannot call "+n+" due to unbound types",u)}),r-1),dn([],u,(function(e){var o=[e[0],null].concat(e.slice(1));return function(n,r,e){t.hasOwnProperty(n)||ln("Replacing nonexistant public symbol"),void 0!==t[n].overloadTable&&void 0!==e?t[n].overloadTable[e]=r:(t[n]=r,t[n].argCount=e)}(n,Fn(n,o,null,a,i),r-1),[]}))},c:function(n,r,t,e,o){r=vn(r),-1===o&&(o=4294967295);var a=pn(t),i=function(n){return n};if(0===e){var u=32-8*t;i=function(n){return n<<u>>>u}}var c=r.includes("unsigned");mn(n,{name:r,fromWireType:i,toWireType:function(n,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+Cn(t)+'" to '+this.name);if(t<e||t>o)throw new TypeError('Passing a number "'+Cn(t)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+e+", "+o+"]!");return c?t>>>0:0|t},argPackAdvance:8,readValueFromPointer:In(r,a,0!==e),destructorFunction:null})},b:function(n,r,t){var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][r];function o(n){var r=P,t=r[n>>=2],o=r[n+1];return new e(b,o,t)}mn(n,{name:t=vn(t),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},j:function(n,r){var t="std::string"===(r=vn(r));mn(n,{name:r,fromWireType:function(n){var r,e=P[n>>2];if(t)for(var o=n+4,a=0;a<=e;++a){var i=n+4+a;if(a==e||0==T[i]){var u=w(o,i-o);void 0===r?r=u:(r+=String.fromCharCode(0),r+=u),o=i+1}}else{var c=new Array(e);for(a=0;a<e;++a)c[a]=String.fromCharCode(T[n+4+a]);r=c.join("")}return Ln(n),r},toWireType:function(n,r){var e;r instanceof ArrayBuffer&&(r=new Uint8Array(r));var o="string"==typeof r;o||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||gn("Cannot pass non-string to std::string"),e=t&&o?function(){return function(n){for(var r=0,t=0;t<n.length;++t){var e=n.charCodeAt(t);e>=55296&&e<=57343&&(e=65536+((1023&e)<<10)|1023&n.charCodeAt(++t)),e<=127?++r:r+=e<=2047?2:e<=65535?3:4}return r}(r)}:function(){return r.length};var a=e(),i=Vn(4+a+1);if(P[i>>2]=a,t&&o)(function(n,r,t,e){if(!(e>0))return 0;for(var o=t,a=t+e-1,i=0;i<n.length;++i){var u=n.charCodeAt(i);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&n.charCodeAt(++i)),u<=127){if(t>=a)break;r[t++]=u}else if(u<=2047){if(t+1>=a)break;r[t++]=192|u>>6,r[t++]=128|63&u}else if(u<=65535){if(t+2>=a)break;r[t++]=224|u>>12,r[t++]=128|u>>6&63,r[t++]=128|63&u}else{if(t+3>=a)break;r[t++]=240|u>>18,r[t++]=128|u>>12&63,r[t++]=128|u>>6&63,r[t++]=128|63&u}}r[t]=0})(r,T,i+4,a+1);else if(o)for(var u=0;u<a;++u){var c=r.charCodeAt(u);c>255&&(Ln(i),gn("String has UTF-16 code units that do not fit in 8 bits")),T[i+4+u]=c}else for(u=0;u<a;++u)T[i+4+u]=r[u];return null!==n&&n.push(Ln,i),i},argPackAdvance:8,readValueFromPointer:nn,destructorFunction:function(n){Ln(n)}})},e:function(n,r,t){var e,o,a,i,u;t=vn(t),2===r?(e=k,o=U,i=S,a=function(){return E},u=1):4===r&&(e=I,o=O,i=x,a=function(){return P},u=2),mn(n,{name:t,fromWireType:function(n){for(var t,o=P[n>>2],i=a(),c=n+4,f=0;f<=o;++f){var s=n+4+f*r;if(f==o||0==i[s>>u]){var l=e(c,s-c);void 0===t?t=l:(t+=String.fromCharCode(0),t+=l),c=s+r}}return Ln(n),t},toWireType:function(n,e){"string"!=typeof e&&gn("Cannot pass non-string to C++ string type "+t);var a=i(e),c=Vn(4+a+r);return P[c>>2]=a>>u,o(e,c+4,a+r),null!==n&&n.push(Ln,c),c},argPackAdvance:8,readValueFromPointer:nn,destructorFunction:function(n){Ln(n)}})},m:function(n,r,t,e,o,a){K[n]={name:vn(r),rawConstructor:kn(t,e),rawDestructor:kn(o,a),fields:[]}},a:function(n,r,t,e,o,a,i,u,c,f){K[n].fields.push({fieldName:vn(r),getterReturnType:t,getter:kn(e,o),getterContext:a,setterArgumentType:i,setter:kn(u,c),setterContext:f})},z:function(n,r){mn(n,{isVoid:!0,name:r=vn(r),argPackAdvance:0,fromWireType:function(){},toWireType:function(n,r){}})},g:_n,u:function(n){return 0===n?En(xn()):(n=void 0===(t=On[r=n])?vn(r):t,En(xn()[n]));var r,t},k:function(n){n>4&&(bn[n].refcount+=1)},n:function(n,r,e,o){n=function(n){return n||gn("Cannot use deleted val. handle = "+n),bn[n].value}(n);var a=Dn[r];return a||(a=function(n){for(var r="",e=0;e<n;++e)r+=(0!==e?", ":"")+"arg"+e;var o="return function emval_allocator_"+n+"(constructor, argTypes, args) {\n";for(e=0;e<n;++e)o+="var argType"+e+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+e+'], "parameter '+e+'");\nvar arg'+e+" = argType"+e+".readValueFromPointer(args);\nargs += argType"+e+"['argPackAdvance'];\n";return o+="var obj = new constructor("+r+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",o)(jn,t,En)}(r),Dn[r]=a),a(n,e,o)},h:function(){N()},r:function(n,r,t){T.copyWithin(n,r,r+t)},d:function(n){var r,t,e=T.length,o=2147483648;if((n>>>=0)>o)return!1;for(var a=1;a<=4;a*=2){var i=e*(1+.2/a);if(i=Math.min(i,n+100663296),Mn(Math.min(o,((r=Math.max(n,i))%(t=65536)>0&&(r+=t-r%t),r))))return!0}return!1},s:function(n,r){var t=0;return qn().forEach((function(e,o){var a=r+t;C[n+4*o>>2]=a,function(n,r,t){for(var e=0;e<n.length;++e)_[r++>>0]=n.charCodeAt(e);t||(_[r>>0]=0)}(e,a),t+=e.length+1})),0},t:function(n,r){var t=qn();C[n>>2]=t.length;var e=0;return t.forEach((function(n){e+=n.length+1})),C[r>>2]=e,0},A:function(n){!function(n,r){if(r&&$()&&0===n)return;$()||(t.onExit&&t.onExit(n),g=!0);f(n,new Zn(n))}(n)},w:function(n){return 0},o:function(n,r,t,e,o){},v:function(n,r,t,e){for(var o=0,a=0;a<t;a++){for(var i=C[r+8*a>>2],u=C[r+(8*a+4)>>2],c=0;c<u;c++)Bn.printChar(n,T[i+c]);o+=u}return C[e>>2]=o,0},q:function(n){}},Vn=(function(){var n={a:Nn};function r(n,r){var e,o=n.exports;t.asm=o,j((v=t.asm.C).buffer),D=t.asm.I,e=t.asm.D,H.unshift(e),function(n){if(B--,t.monitorRunDependencies&&t.monitorRunDependencies(B),0==B&&z){var r=z;z=null,r()}}()}function e(n){r(n.instance)}function a(r){return(!d&&s&&"function"==typeof fetch?fetch(Z,{credentials:"same-origin"}).then((function(n){if(!n.ok)throw"failed to load wasm binary file at '"+Z+"'";return n.arrayBuffer()})).catch((function(){return Y(Z)})):Promise.resolve().then((function(){return Y(Z)}))).then((function(r){return WebAssembly.instantiate(r,n)})).then(r,(function(n){h("failed to asynchronously prepare wasm: "+n),N(n)}))}if(B++,t.monitorRunDependencies&&t.monitorRunDependencies(B),t.instantiateWasm)try{return t.instantiateWasm(n,r)}catch(n){return h("Module.instantiateWasm callback failed with error: "+n),!1}(d||"function"!=typeof WebAssembly.instantiateStreaming||G(Z)||"function"!=typeof fetch?a(e):fetch(Z,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,n).then(e,(function(n){return h("wasm streaming compile failed: "+n),h("falling back to ArrayBuffer instantiation"),a(e)}))}))).catch(o)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.D).apply(null,arguments)},t._malloc=function(){return(Vn=t._malloc=t.asm.E).apply(null,arguments)}),Ln=t._free=function(){return(Ln=t._free=t.asm.F).apply(null,arguments)},Gn=t.___getTypeName=function(){return(Gn=t.___getTypeName=t.asm.G).apply(null,arguments)};t.___embind_register_native_and_builtin_types=function(){return(t.___embind_register_native_and_builtin_types=t.asm.H).apply(null,arguments)},t.dynCall_jiji=function(){return(t.dynCall_jiji=t.asm.J).apply(null,arguments)};function Zn(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function Yn(n){function r(){zn||(zn=!0,t.calledRun=!0,g||(J(H),e(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)n=t.postRun.shift(),q.unshift(n);var n;J(q)}()))}B>0||(!function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)n=t.preRun.shift(),M.unshift(n);var n;J(M)}(),B>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),r()}),1)):r()))}if(z=function n(){zn||Yn(),zn||(z=n)},t.run=Yn,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Yn(),t.ready}}();let w,b,_,T;async function A(n,e){b||(b=t.checkThreadsSupport().then((n=>n?async function(){const{default:n,initThreadPool:t,optimise:e}=await r("./squoosh_oxipng-89a99922");return await n(),await t(navigator.hardwareConcurrency),e}():async function(){const{default:n,optimise:t}=await r("./squoosh_oxipng-66ba3f69");return await n(),t}())));return(await b)(new Uint8Array(n),e.level,e.interlace).buffer}async function E(n,e){_||(_=async function(){if(await t.simd())return i((await r("./webp_enc_simd-1f616d77")).default);return i((await r("./webp_enc-9e39ea90")).default)}());const o=(await _).encode(n.data,n.width,n.height,e);if(!o)throw new Error("Encoding error.");return o.buffer}async function C(n,e){T||(T=async function(){if(await t.checkThreadsSupport())return await t.simd()?i((await r("./wp2_enc_mt_simd-d6469e95")).default):i((await r("./wp2_enc_mt-6ca4e0d5")).default);return i((await r("./wp2_enc-f7b27122")).default)}());const o=(await T).encode(n.data,n.width,n.height,e);if(!o)throw new Error("Encoding error.");return o.buffer}const P=fetch("/c/rotate-e8fb6784.wasm").then((n=>n.arrayBuffer())).then((n=>WebAssembly.instantiate(n)));var F=function(){var r=n.uri;return function(t){var e,o;(t=void 0!==(t=t||{})?t:{}).ready=new Promise((function(n,r){e=n,o=r}));var a,i={};for(a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);var u,c=!0,f="";f=self.location.href,r&&(f=r),f=0!==f.indexOf("blob:")?f.substr(0,f.lastIndexOf("/")+1):"",u=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)};var s,l=t.print||console.log.bind(console),d=t.printErr||console.warn.bind(console);for(a in i)i.hasOwnProperty(a)&&(t[a]=i[a]);i=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit,t.wasmBinary&&(s=t.wasmBinary);var p;t.noExitRuntime;"object"!=typeof WebAssembly&&q("no native wasm support detected");var h=!1,v=new TextDecoder("utf8");function y(n,r){if(!n)return"";for(var t=n+r,e=n;!(e>=t)&&w[e];)++e;return v.decode(w.subarray(n,e))}var g,m,w,b,_,T,A,E,C,P=new TextDecoder("utf-16le");function F(n,r){for(var t=n,e=t>>1,o=e+r/2;!(e>=o)&&_[e];)++e;return t=e<<1,P.decode(w.subarray(n,t))}function W(n,r,t){if(void 0===t&&(t=2147483647),t<2)return 0;for(var e=r,o=(t-=2)<2*n.length?t/2:n.length,a=0;a<o;++a){var i=n.charCodeAt(a);b[r>>1]=i,r+=2}return b[r>>1]=0,r-e}function R(n){return 2*n.length}function k(n,r){for(var t=0,e="";!(t>=r/4);){var o=T[n+4*t>>2];if(0==o)break;if(++t,o>=65536){var a=o-65536;e+=String.fromCharCode(55296|a>>10,56320|1023&a)}else e+=String.fromCharCode(o)}return e}function U(n,r,t){if(void 0===t&&(t=2147483647),t<4)return 0;for(var e=r,o=e+t-4,a=0;a<n.length;++a){var i=n.charCodeAt(a);if(i>=55296&&i<=57343)i=65536+((1023&i)<<10)|1023&n.charCodeAt(++a);if(T[r>>2]=i,(r+=4)+4>o)break}return T[r>>2]=0,r-e}function S(n){for(var r=0,t=0;t<n.length;++t){var e=n.charCodeAt(t);e>=55296&&e<=57343&&++t,r+=4}return r}function I(n){g=n,t.HEAP8=m=new Int8Array(n),t.HEAP16=b=new Int16Array(n),t.HEAP32=T=new Int32Array(n),t.HEAPU8=w=new Uint8Array(n),t.HEAPU16=_=new Uint16Array(n),t.HEAPU32=A=new Uint32Array(n),t.HEAPF32=E=new Float32Array(n),t.HEAPF64=C=new Float64Array(n)}t.INITIAL_MEMORY;var O,x=[],j=[],D=[];var M=0,H=null;function q(n){t.onAbort&&t.onAbort(n),d(n+=""),h=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(n);throw o(r),r}t.preloadedImages={},t.preloadedAudios={};var B,z="data:application/octet-stream;base64,";function N(n){return n.startsWith(z)}if(t.locateFile)N(V="imagequant.wasm")||(B=V,V=t.locateFile?t.locateFile(B,f):f+B);else var V=new URL("/c/imagequant-a10bbe1a.wasm",n.uri).toString();function L(n){try{if(n==V&&s)return new Uint8Array(s);if(u)return u(n);throw"both async and sync fetching of the wasm failed"}catch(n){q(n)}}function G(n){for(;n.length>0;){var r=n.shift();if("function"!=typeof r){var e=r.func;"number"==typeof e?void 0===r.arg?O.get(e)():O.get(e)(r.arg):e(void 0===r.arg?null:r.arg)}else r(t)}}function Z(n){switch(n){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+n)}}var Y=void 0;function J(n){for(var r="",t=n;w[t];)r+=Y[w[t++]];return r}var X={},$={},K={},Q=48,nn=57;function rn(n){if(void 0===n)return"_unknown";var r=(n=n.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return r>=Q&&r<=nn?"_"+n:n}function tn(n,r){return n=rn(n),new Function("body","return function "+n+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(r)}function en(n,r){var t=tn(r,(function(n){this.name=r,this.message=n;var t=new Error(n).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},t}var on=void 0;function an(n){throw new on(n)}var un=void 0;function cn(n){throw new un(n)}function fn(n,r,t){if(t=t||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var e=r.name;if(n||an('type "'+e+'" must have a positive integer typeid pointer'),$.hasOwnProperty(n)){if(t.ignoreDuplicateRegistrations)return;an("Cannot register type '"+e+"' twice")}if($[n]=r,delete K[n],X.hasOwnProperty(n)){var o=X[n];delete X[n],o.forEach((function(n){n()}))}}var sn=[],ln=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function dn(n){n>4&&0==--ln[n].refcount&&(ln[n]=void 0,sn.push(n))}function pn(){for(var n=0,r=5;r<ln.length;++r)void 0!==ln[r]&&++n;return n}function hn(){for(var n=5;n<ln.length;++n)if(void 0!==ln[n])return ln[n];return null}function vn(n){switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var r=sn.length?sn.pop():ln.length;return ln[r]={refcount:1,value:n},r}}function yn(n){return this.fromWireType(A[n>>2])}function gn(n){if(null===n)return"null";var r=typeof n;return"object"===r||"array"===r||"function"===r?n.toString():""+n}function mn(n,r){switch(r){case 2:return function(n){return this.fromWireType(E[n>>2])};case 3:return function(n){return this.fromWireType(C[n>>3])};default:throw new TypeError("Unknown float type: "+n)}}function wn(n){for(;n.length;){var r=n.pop();n.pop()(r)}}function bn(n,r,t,e,o){var a=r.length;a<2&&an("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var i=null!==r[1]&&null!==t,u=!1,c=1;c<r.length;++c)if(null!==r[c]&&void 0===r[c].destructorFunction){u=!0;break}var f="void"!==r[0].name,s="",l="";for(c=0;c<a-2;++c)s+=(0!==c?", ":"")+"arg"+c,l+=(0!==c?", ":"")+"arg"+c+"Wired";var d="return function "+rn(n)+"("+s+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+n+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n";u&&(d+="var destructors = [];\n");var p=u?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],v=[an,e,o,wn,r[0],r[1]];i&&(d+="var thisWired = classParam.toWireType("+p+", this);\n");for(c=0;c<a-2;++c)d+="var arg"+c+"Wired = argType"+c+".toWireType("+p+", arg"+c+"); // "+r[c+2].name+"\n",h.push("argType"+c),v.push(r[c+2]);if(i&&(l="thisWired"+(l.length>0?", ":"")+l),d+=(f?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",u)d+="runDestructors(destructors);\n";else for(c=i?1:2;c<r.length;++c){var y=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==r[c].destructorFunction&&(d+=y+"_dtor("+y+"); // "+r[c].name+"\n",h.push(y+"_dtor"),v.push(r[c].destructorFunction))}return f&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",h.push(d),function(n,r){if(!(n instanceof Function))throw new TypeError("new_ called with constructor type "+typeof n+" which is not a function");var t=tn(n.name||"unknownFunctionName",(function(){}));t.prototype=n.prototype;var e=new t,o=n.apply(e,r);return o instanceof Object?o:e}(Function,h).apply(null,v)}function _n(n,r,e){t.hasOwnProperty(n)?((void 0===e||void 0!==t[n].overloadTable&&void 0!==t[n].overloadTable[e])&&an("Cannot register public name '"+n+"' twice"),function(n,r,t){if(void 0===n[r].overloadTable){var e=n[r];n[r]=function(){return n[r].overloadTable.hasOwnProperty(arguments.length)||an("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+n[r].overloadTable+")!"),n[r].overloadTable[arguments.length].apply(this,arguments)},n[r].overloadTable=[],n[r].overloadTable[e.argCount]=e}}(t,n,n),t.hasOwnProperty(e)&&an("Cannot register multiple overloads of a function with the same number of arguments ("+e+")!"),t[n].overloadTable[e]=r):(t[n]=r,void 0!==e&&(t[n].numArguments=e))}function Tn(n,r,e){return n.includes("j")?function(n,r,e){var o=t["dynCall_"+n];return e&&e.length?o.apply(null,[r].concat(e)):o.call(null,r)}(n,r,e):O.get(r).apply(null,e)}function An(n,r){var t,e,o,a=(n=J(n)).includes("j")?(t=n,e=r,o=[],function(){o.length=arguments.length;for(var n=0;n<arguments.length;n++)o[n]=arguments[n];return Tn(t,e,o)}):O.get(r);return"function"!=typeof a&&an("unknown function pointer with signature "+n+": "+r),a}var En=void 0;function Cn(n){var r=Dn(n),t=J(r);return jn(r),t}function Pn(n,r,t){switch(r){case 0:return t?function(n){return m[n]}:function(n){return w[n]};case 1:return t?function(n){return b[n>>1]}:function(n){return _[n>>1]};case 2:return t?function(n){return T[n>>2]}:function(n){return A[n>>2]};default:throw new TypeError("Unknown integer type: "+n)}}var Fn={};function Wn(){return"object"==typeof globalThis?globalThis:Function("return this")()}function Rn(n,r){var t=$[n];return void 0===t&&an(r+" has unknown type "+Cn(n)),t}var kn={};function Un(n){try{return p.grow(n-g.byteLength+65535>>>16),I(p.buffer),1}catch(n){}}var Sn={mappings:{},buffers:[null,[],[]],printChar:function(n,r){var t=Sn.buffers[n];0===r||10===r?((1===n?l:d)(function(n,r,t){for(var e=r+t,o=r;n[o]&&!(o>=e);)++o;return v.decode(n.subarray?n.subarray(r,o):new Uint8Array(n.slice(r,o)))}(t,0)),t.length=0):t.push(r)},varargs:void 0,get:function(){return Sn.varargs+=4,T[Sn.varargs-4>>2]},getStr:function(n){return y(n)},get64:function(n,r){return n}};!function(){for(var n=new Array(256),r=0;r<256;++r)n[r]=String.fromCharCode(r);Y=n}(),on=t.BindingError=en(Error,"BindingError"),un=t.InternalError=en(Error,"InternalError"),t.count_emval_handles=pn,t.get_first_emval=hn,En=t.UnboundTypeError=en(Error,"UnboundTypeError");var In,On={m:function(n,r){},q:function(n,r,t,e,o){},n:function(n,r,t,e,o){var a=Z(t);fn(n,{name:r=J(r),fromWireType:function(n){return!!n},toWireType:function(n,r){return r?e:o},argPackAdvance:8,readValueFromPointer:function(n){var e;if(1===t)e=m;else if(2===t)e=b;else{if(4!==t)throw new TypeError("Unknown boolean type size: "+r);e=T}return this.fromWireType(e[n>>a])},destructorFunction:null})},v:function(n,r){fn(n,{name:r=J(r),fromWireType:function(n){var r=ln[n].value;return dn(n),r},toWireType:function(n,r){return vn(r)},argPackAdvance:8,readValueFromPointer:yn,destructorFunction:null})},l:function(n,r,t){var e=Z(t);fn(n,{name:r=J(r),fromWireType:function(n){return n},toWireType:function(n,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+gn(r)+'" to '+this.name);return r},argPackAdvance:8,readValueFromPointer:mn(r,e),destructorFunction:null})},c:function(n,r,e,o,a,i){var u=function(n,r){for(var t=[],e=0;e<n;e++)t.push(T[(r>>2)+e]);return t}(r,e);n=J(n),a=An(o,a),_n(n,(function(){!function(n,r){var t=[],e={};throw r.forEach((function n(r){e[r]||$[r]||(K[r]?K[r].forEach(n):(t.push(r),e[r]=!0))})),new En(n+": "+t.map(Cn).join([", "]))}("Cannot call "+n+" due to unbound types",u)}),r-1),function(n,r,t){function e(r){var e=t(r);e.length!==n.length&&cn("Mismatched type converter count");for(var o=0;o<n.length;++o)fn(n[o],e[o])}n.forEach((function(n){K[n]=r}));var o=new Array(r.length),a=[],i=0;r.forEach((function(n,r){$.hasOwnProperty(n)?o[r]=$[n]:(a.push(n),X.hasOwnProperty(n)||(X[n]=[]),X[n].push((function(){o[r]=$[n],++i===a.length&&e(o)})))})),0===a.length&&e(o)}([],u,(function(e){var o=[e[0],null].concat(e.slice(1));return function(n,r,e){t.hasOwnProperty(n)||cn("Replacing nonexistant public symbol"),void 0!==t[n].overloadTable&&void 0!==e?t[n].overloadTable[e]=r:(t[n]=r,t[n].argCount=e)}(n,bn(n,o,null,a,i),r-1),[]}))},b:function(n,r,t,e,o){r=J(r),-1===o&&(o=4294967295);var a=Z(t),i=function(n){return n};if(0===e){var u=32-8*t;i=function(n){return n<<u>>>u}}var c=r.includes("unsigned");fn(n,{name:r,fromWireType:i,toWireType:function(n,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+gn(t)+'" to '+this.name);if(t<e||t>o)throw new TypeError('Passing a number "'+gn(t)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+e+", "+o+"]!");return c?t>>>0:0|t},argPackAdvance:8,readValueFromPointer:Pn(r,a,0!==e),destructorFunction:null})},a:function(n,r,t){var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][r];function o(n){var r=A,t=r[n>>=2],o=r[n+1];return new e(g,o,t)}fn(n,{name:t=J(t),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},h:function(n,r){var t="std::string"===(r=J(r));fn(n,{name:r,fromWireType:function(n){var r,e=A[n>>2];if(t)for(var o=n+4,a=0;a<=e;++a){var i=n+4+a;if(a==e||0==w[i]){var u=y(o,i-o);void 0===r?r=u:(r+=String.fromCharCode(0),r+=u),o=i+1}}else{var c=new Array(e);for(a=0;a<e;++a)c[a]=String.fromCharCode(w[n+4+a]);r=c.join("")}return jn(n),r},toWireType:function(n,r){var e;r instanceof ArrayBuffer&&(r=new Uint8Array(r));var o="string"==typeof r;o||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||an("Cannot pass non-string to std::string"),e=t&&o?function(){return function(n){for(var r=0,t=0;t<n.length;++t){var e=n.charCodeAt(t);e>=55296&&e<=57343&&(e=65536+((1023&e)<<10)|1023&n.charCodeAt(++t)),e<=127?++r:r+=e<=2047?2:e<=65535?3:4}return r}(r)}:function(){return r.length};var a=e(),i=xn(4+a+1);if(A[i>>2]=a,t&&o)(function(n,r,t,e){if(!(e>0))return 0;for(var o=t,a=t+e-1,i=0;i<n.length;++i){var u=n.charCodeAt(i);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&n.charCodeAt(++i)),u<=127){if(t>=a)break;r[t++]=u}else if(u<=2047){if(t+1>=a)break;r[t++]=192|u>>6,r[t++]=128|63&u}else if(u<=65535){if(t+2>=a)break;r[t++]=224|u>>12,r[t++]=128|u>>6&63,r[t++]=128|63&u}else{if(t+3>=a)break;r[t++]=240|u>>18,r[t++]=128|u>>12&63,r[t++]=128|u>>6&63,r[t++]=128|63&u}}r[t]=0})(r,w,i+4,a+1);else if(o)for(var u=0;u<a;++u){var c=r.charCodeAt(u);c>255&&(jn(i),an("String has UTF-16 code units that do not fit in 8 bits")),w[i+4+u]=c}else for(u=0;u<a;++u)w[i+4+u]=r[u];return null!==n&&n.push(jn,i),i},argPackAdvance:8,readValueFromPointer:yn,destructorFunction:function(n){jn(n)}})},f:function(n,r,t){var e,o,a,i,u;t=J(t),2===r?(e=F,o=W,i=R,a=function(){return _},u=1):4===r&&(e=k,o=U,i=S,a=function(){return A},u=2),fn(n,{name:t,fromWireType:function(n){for(var t,o=A[n>>2],i=a(),c=n+4,f=0;f<=o;++f){var s=n+4+f*r;if(f==o||0==i[s>>u]){var l=e(c,s-c);void 0===t?t=l:(t+=String.fromCharCode(0),t+=l),c=s+r}}return jn(n),t},toWireType:function(n,e){"string"!=typeof e&&an("Cannot pass non-string to C++ string type "+t);var a=i(e),c=xn(4+a+r);return A[c>>2]=a>>u,o(e,c+4,a+r),null!==n&&n.push(jn,c),c},argPackAdvance:8,readValueFromPointer:yn,destructorFunction:function(n){jn(n)}})},o:function(n,r){fn(n,{isVoid:!0,name:r=J(r),argPackAdvance:0,fromWireType:function(){},toWireType:function(n,r){}})},d:dn,k:function(n){return 0===n?vn(Wn()):(n=void 0===(t=Fn[r=n])?J(r):t,vn(Wn()[n]));var r,t},i:function(n){n>4&&(ln[n].refcount+=1)},j:function(n,r,e,o){n=function(n){return n||an("Cannot use deleted val. handle = "+n),ln[n].value}(n);var a=kn[r];return a||(a=function(n){for(var r="",e=0;e<n;++e)r+=(0!==e?", ":"")+"arg"+e;var o="return function emval_allocator_"+n+"(constructor, argTypes, args) {\n";for(e=0;e<n;++e)o+="var argType"+e+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+e+'], "parameter '+e+'");\nvar arg'+e+" = argType"+e+".readValueFromPointer(args);\nargs += argType"+e+"['argPackAdvance'];\n";return o+="var obj = new constructor("+r+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",o)(Rn,t,vn)}(r),kn[r]=a),a(n,e,o)},g:function(){q()},s:function(n,r,t){w.copyWithin(n,r,r+t)},e:function(n){var r,t,e=w.length,o=2147483648;if((n>>>=0)>o)return!1;for(var a=1;a<=4;a*=2){var i=e*(1+.2/a);if(i=Math.min(i,n+100663296),Un(Math.min(o,((r=Math.max(n,i))%(t=65536)>0&&(r+=t-r%t),r))))return!0}return!1},u:function(n){return 0},p:function(n,r,t,e,o){},t:function(n,r,t,e){for(var o=0,a=0;a<t;a++){for(var i=T[r+8*a>>2],u=T[r+(8*a+4)>>2],c=0;c<u;c++)Sn.printChar(n,w[i+c]);o+=u}return T[e>>2]=o,0},r:function(n){}},xn=(function(){var n={a:On};function r(n,r){var e,o=n.exports;t.asm=o,I((p=t.asm.w).buffer),O=t.asm.C,e=t.asm.x,j.unshift(e),function(n){if(M--,t.monitorRunDependencies&&t.monitorRunDependencies(M),0==M&&H){var r=H;H=null,r()}}()}function e(n){r(n.instance)}function a(r){return(!s&&c&&"function"==typeof fetch?fetch(V,{credentials:"same-origin"}).then((function(n){if(!n.ok)throw"failed to load wasm binary file at '"+V+"'";return n.arrayBuffer()})).catch((function(){return L(V)})):Promise.resolve().then((function(){return L(V)}))).then((function(r){return WebAssembly.instantiate(r,n)})).then(r,(function(n){d("failed to asynchronously prepare wasm: "+n),q(n)}))}if(M++,t.monitorRunDependencies&&t.monitorRunDependencies(M),t.instantiateWasm)try{return t.instantiateWasm(n,r)}catch(n){return d("Module.instantiateWasm callback failed with error: "+n),!1}(s||"function"!=typeof WebAssembly.instantiateStreaming||N(V)||"function"!=typeof fetch?a(e):fetch(V,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,n).then(e,(function(n){return d("wasm streaming compile failed: "+n),d("falling back to ArrayBuffer instantiation"),a(e)}))}))).catch(o)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.x).apply(null,arguments)},t._malloc=function(){return(xn=t._malloc=t.asm.y).apply(null,arguments)}),jn=t._free=function(){return(jn=t._free=t.asm.z).apply(null,arguments)},Dn=t.___getTypeName=function(){return(Dn=t.___getTypeName=t.asm.A).apply(null,arguments)};t.___embind_register_native_and_builtin_types=function(){return(t.___embind_register_native_and_builtin_types=t.asm.B).apply(null,arguments)},t.dynCall_jiji=function(){return(t.dynCall_jiji=t.asm.D).apply(null,arguments)};function Mn(n){function r(){In||(In=!0,t.calledRun=!0,h||(G(j),e(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)n=t.postRun.shift(),D.unshift(n);var n;G(D)}()))}M>0||(!function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)n=t.preRun.shift(),x.unshift(n);var n;G(x)}(),M>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),r()}),1)):r()))}if(H=function n(){In||Mn(),In||(H=n)},t.run=Mn,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Mn(),t.ready}}();let W,R;let k=null;let U=0;function S(n,r){const t=r(1*n.length);return(null!==k&&k.buffer===R.memory.buffer||(k=new Uint8Array(R.memory.buffer)),k).set(n,t/1),U=n.length,t}let I=null;function O(){return null!==I&&I.buffer===R.memory.buffer||(I=new Int32Array(R.memory.buffer)),I}let x,j=null;function D(n,r){return(null!==j&&j.buffer===R.memory.buffer||(j=new Uint8ClampedArray(R.memory.buffer)),j).subarray(n/1,n/1+r)}async function M(r){void 0===r&&(r=new URL("/c/squoosh_resize_bg-3d426466.wasm",n.uri));("string"==typeof r||"function"==typeof Request&&r instanceof Request||"function"==typeof URL&&r instanceof URL)&&(r=fetch(r));const{instance:t,module:e}=await async function(n,r){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,r)}catch(r){if("application/wasm"==n.headers.get("Content-Type"))throw r;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,r)}{const t=await WebAssembly.instantiate(n,r);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await r,{});return R=t.exports,M.__wbindgen_wasm_module=e,R}let H=null;function q(){return null!==H&&H.buffer===x.memory.buffer||(H=new Uint32Array(x.memory.buffer)),H}let B=0;let z=null;function N(){return null!==z&&z.buffer===x.memory.buffer||(z=new Int32Array(x.memory.buffer)),z}function V(n,r,t,e){try{const l=x.__wbindgen_add_to_stack_pointer(-16);var o=function(n,r){const t=r(4*n.length);return q().set(n,t/4),B=n.length,t}(n,x.__wbindgen_malloc),a=B;x.resize(l,o,a,r,t,e);var i=N()[l/4+0],u=N()[l/4+1],c=(f=i,s=u,q().subarray(f/4,f/4+s)).slice();return x.__wbindgen_free(i,4*u),c}finally{x.__wbindgen_add_to_stack_pointer(16)}var f,s}async function L(r){void 0===r&&(r=new URL("/c/squooshhqx_bg-6e04a330.wasm",n.uri));("string"==typeof r||"function"==typeof Request&&r instanceof Request||"function"==typeof URL&&r instanceof URL)&&(r=fetch(r));const{instance:t,module:e}=await async function(n,r){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,r)}catch(r){if("application/wasm"==n.headers.get("Content-Type"))throw r;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r)}const t=await n.arrayBuffer();return await WebAssembly.instantiate(t,r)}{const t=await WebAssembly.instantiate(n,r);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}}(await r,{});return x=t.exports,L.__wbindgen_wasm_module=e,x}const G=["triangle","catrom","mitchell","lanczos3"];let Z,Y;async function J(n,r){Y||(Y=L()),await Y;const t=r.width/n.width,e=r.height/n.height,o=Math.max(t,e),a=function(n,{min:r=Number.MIN_VALUE,max:t=Number.MAX_VALUE}){return Math.min(Math.max(n,r),t)}(Math.ceil(o),{min:1,max:4});if(1===a)return n;const i=V(new Uint32Array(n.data.buffer),n.width,n.height,a);return new ImageData(new Uint8ClampedArray(i.buffer),n.width*a,n.height*a)}async function X(n,r){let t=n;if(Z||(Z=M()),function(n){return"hqx"===n.method}(r)&&(t=await J(t,r),r={...r,method:"catrom"}),await Z,"contain"===r.fitMethod){const{sx:o,sy:a,sw:i,sh:u}=e.getContainOffsets(n.width,n.height,r.width,r.height);t=function(n,r,t,e,o){const a=new Uint32Array(n.data.buffer);for(let i=0;i<o;i+=1){const o=(i+t)*n.width+r;a.copyWithin(i*e,o,o+e)}return new ImageData(new Uint8ClampedArray(a.buffer.slice(0,e*o*4)),e,o)}(t,Math.round(o),Math.round(a),Math.round(i),Math.round(u))}const o=function(n,r,t,e,o,a,i,u){try{const p=R.__wbindgen_add_to_stack_pointer(-16);var c=S(n,R.__wbindgen_malloc),f=U;R.resize(p,c,f,r,t,e,o,a,i,u);var s=O()[p/4+0],l=O()[p/4+1],d=D(s,l).slice();return R.__wbindgen_free(s,1*l),d}finally{R.__wbindgen_add_to_stack_pointer(16)}}(new Uint8Array(t.data.buffer),t.width,t.height,r.width,r.height,G.indexOf(r.method),r.premultiply,r.linearRGB);return new ImageData(new Uint8ClampedArray(o.buffer),r.width,r.height)}const $={avifDecode:(...n)=>a("avifDecode",(()=>async function(n){if(!c){const n=await r("./avif_dec-b790e6ec");c=i(n.default)}const[t,e]=await Promise.all([c,u(n)]),o=t.decode(e);if(!o)throw new Error("Decoding error");return o}(...n))),jxlDecode:(...n)=>a("jxlDecode",(()=>async function(n){f||(f=i(o.default));const[r,t]=await Promise.all([f,u(n)]),e=r.decode(t);if(!e)throw new Error("Decoding error");return e}(...n))),webpDecode:(...n)=>a("webpDecode",(()=>async function(n){if(!s){const n=await r("./webp_dec-97dc8388");s=i(n.default)}const[t,e]=await Promise.all([s,u(n)]),o=t.decode(e);if(!o)throw new Error("Decoding error");return o}(...n))),wp2Decode:(...n)=>a("wp2Decode",(()=>async function(n){p||(p=i(d));const[r,t]=await Promise.all([p,u(n)]),e=r.decode(t);if(!e)throw new Error("Decoding error");return e}(...n))),avifEncode:(...n)=>a("avifEncode",(()=>y(...n))),jxlEncode:(...n)=>a("jxlEncode",(()=>g(...n))),mozjpegEncode:(...n)=>a("mozjpegEncode",(()=>async function(n,r){return w||(w=i(m)),(await w).encode(n.data,n.width,n.height,r).buffer}(...n))),oxipngEncode:(...n)=>a("oxipngEncode",(()=>A(...n))),webpEncode:(...n)=>a("webpEncode",(()=>E(...n))),wp2Encode:(...n)=>a("wp2Encode",(()=>C(...n))),rotate:(...n)=>a("rotate",(()=>async function(n,r){const t=(await P).instance,e=n.width*n.height*4,o=Math.ceil((2*e+8)/65536)-Math.floor(t.exports.memory.buffer.byteLength/65536);o>0&&t.exports.memory.grow(o);const a=new Uint8ClampedArray(t.exports.memory.buffer);a.set(n.data,8),t.exports.rotate(n.width,n.height,r.rotate);const i=r.rotate%180!=0;return new ImageData(a.slice(e+8,2*e+8),i?n.height:n.width,i?n.width:n.height)}(...n))),quantize:(...n)=>a("quantize",(()=>async function(n,r){W||(W=i(F));const t=await W,e=r.zx?t.zx_quantize(n.data,n.width,n.height,r.dither):t.quantize(n.data,n.width,n.height,r.maxNumColors,r.dither);return new ImageData(e,n.width,n.height)}(...n))),resize:(...n)=>a("resize",(()=>X(...n)))};e.expose($,self)}));
