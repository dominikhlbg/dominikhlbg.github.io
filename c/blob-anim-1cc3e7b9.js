define(["exports","./initial-app-3f9c6848"],(function(t,e){const o=.25;function a(t){const e=Math.random()*o,a=Math.random()*Math.PI*2,i=Math.sin(a)*e,n=Math.cos(a)*e;return[t[0]+i,t[1]+n,t[2]+i,t[3]+n,t[4]+i,t[5]+n]}function i(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2}const n=(t,e)=>Math.random()*(e-t)+t,s=[[-.304,-1,0,-1,.304,-1],[.592,-.861,.782,-.623,.972,-.386],[1.043,-.074,.975,.223,.907,.519],[.708,.769,.434,.901,.16,1.033],[-.16,1.033,-.434,.901,-.708,.769],[-.907,.519,-.975,.223,-1.043,-.074],[-.972,-.386,-.782,-.623,-.592,-.861]];class r{constructor(t,{startPoints:e=t.map((t=>a(t))),minDuration:o=4e3,maxDuration:i=11e3}={}){this.points=e,this.minDuration=o,this.maxDuration=i,this.animStates=t.map(((t,s)=>({basePoint:t,pos:0,duration:n(o,i),startPoint:e[s],endPoint:a(t)})))}advance(t){this.points=this.animStates.map((e=>{e.pos+=t/e.duration,e.pos>=1&&(e.startPoint=e.endPoint,e.pos=0,e.duration=n(this.minDuration,this.maxDuration),e.endPoint=a(e.basePoint));const o=i(e.pos);return e.startPoint.map(((t,a)=>(e.endPoint[a]-t)*o+t))}))}draw(t){const e=this.points;t.beginPath(),t.moveTo(e[0][2],e[0][3]);for(let o=0;o<e.length;o++){const a=o===e.length-1?0:o+1;t.bezierCurveTo(e[o][4],e[o][5],e[a][0],e[a][1],e[a][2],e[a][3])}t.closePath(),t.fill()}}class h{constructor(){this.rotatePos=0,this.blobs=Array.from({length:4},((t,o)=>new r(s,{startPoints:e.startBlobs[o]})))}advance(t){this.rotatePos=(this.rotatePos+t/12e4)%1;for(const e of this.blobs)e.advance(t)}draw(t,e,o,a){t.save(),t.translate(e,o),t.scale(a,a),t.rotate(2*Math.PI*this.rotatePos);for(const e of this.blobs)e.draw(t);t.restore()}}const l=.0015;class c{constructor(t){this.bgBlobs=[],this.overallAlphaPos=0;const e=Math.round(t.width*t.height*25e-6);this.bgBlobs=Array.from({length:e},(()=>{const e=0===(o=Math.random())?0:Math.pow(2,10*o-10);var o;return{blob:new r(s,{minDuration:2e3,maxDuration:5e3}),velocity:.0055*(1-e)+l,alpha:Math.random()**3*(.8-.2)+.2,alphaMultiplier:1,spinTime:n(2e4,6e4),rotatePos:0,radius:53*e+7,x:Math.random()*t.width,y:Math.random()*t.height}}))}advance(t,e,a,i,n){1!==this.overallAlphaPos&&(this.overallAlphaPos=Math.min(1,this.overallAlphaPos+t/2e3));for(const s of this.bgBlobs){s.blob.advance(t);let r=Math.hypot(s.x-a,s.y-i);if(s.rotatePos=(s.rotatePos+t/s.spinTime)%1,r<10)switch(Math.floor(4*Math.random())){case 0:s.x=Math.random()*e.width,s.y=-s.radius*(1+o);break;case 1:s.x=-s.radius*(1+o),s.y=Math.random()*e.height;break;case 2:s.x=Math.random()*e.width,s.y=e.height+s.radius*(1+o);break;case 3:s.x=e.width+s.radius*(1+o),s.y=Math.random()*e.height}r=Math.hypot(s.x-a,s.y-i);const h=(r>300?s.velocity:(14*(1-r/300)+1)*s.velocity)*t,l=Math.atan2(a-s.x,i-s.y),c=Math.sin(l)*h,d=Math.cos(l)*h;s.x+=c,s.y+=d,s.alphaMultiplier=Math.min(r/n,1)}}draw(t){const e=i(this.overallAlphaPos);for(const o of this.bgBlobs)t.save(),t.globalAlpha=o.alpha*o.alphaMultiplier*e,t.translate(o.x,o.y),t.scale(o.radius,o.radius),t.rotate(2*Math.PI*o.rotatePos),o.blob.draw(t),t.restore()}}const d=.01;t.startBlobAnim=function(t){let a;const i=t.getContext("2d"),n=new h;let s;const r=document.querySelector("."+e.loadImg);let l=document.hasFocus(),u=l?1:0,m=!0;const b=()=>{"visible"===document.visibilityState&&(a=performance.now())},p=()=>{l=!0,m||g()},v=()=>{l=!1},P=new ResizeObserver((()=>{m||M(0)}));function M(e){const a=t.getBoundingClientRect();t.width=a.width*devicePixelRatio,t.height=a.height*devicePixelRatio;const h=r.getBoundingClientRect(),l=getComputedStyle(t),d=l.getPropertyValue("--blob-pink"),u=h.left-a.left+h.width/2,m=h.top-a.top+h.height/2,b=h.height/2/(1+o);i.scale(devicePixelRatio,devicePixelRatio),s||(s=new c(a)),s.advance(e,a,u,m,b),n.advance(e),i.globalAlpha=Number(l.getPropertyValue("--center-blob-opacity")),i.fillStyle=d,s.draw(i),n.draw(i,u,m,b)}function f(e){if(!t.isConnected)return removeEventListener("focus",p),removeEventListener("blur",v),P.disconnect(),void document.removeEventListener("visibilitychange",b);if(l)1!==u&&(u=Math.min(1,u+d));else if(u=Math.max(0,u-d),0===u)return void(m=!1);const o=(e-a)*u;a=e,M(o),requestAnimationFrame(f)}function g(){m=!0,requestAnimationFrame((t=>{a=t,f(t)}))}P.observe(t),addEventListener("focus",p),addEventListener("blur",v),document.addEventListener("visibilitychange",b),g()}}));
